<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
    <f:comment>Search bar with an invisible label, a visible placeholder example, and a go button.</f:comment>

    <f:argument name="id" type="string" optional="{false}" description="ID of the search box" />
    <f:argument name="name" type="string" optional="{true}" default="" description="Name of the search box if different from ID" />
    <f:argument name="text" type="string" optional="{false}" description="Text label of the search box" />
    <f:argument name="example" type="string" optional="{true}" default="" description="Placeholder indicating sample input" />
    <f:argument name="go" type="string" optional="{false}" description="Label of the go button" />
    <f:argument name="regexGo" type="string" optional="{true}" description="Label of the reg-ex go button" />
    <f:argument name="variants" type="string[]" optional="{true}" default="{}" description="Type of search box to produce (tacit, tacit-above-900, tacit-below-900, tacit-above-600, tacit-below-600)" />
    <f:argument name="function" type="string" optional="{true}" default="" description="JavaScript function to apply (-)" />
    <f:argument name="compact" type="bool" optional="{true}" default="{false}" description="Whether the search box is used in a space-constrained location" />
    <f:argument name="hidden" type="bool" optional="{true}" default="{false}" description="Whether the search box is hidden" />

    <f:variable name="class">mdlr-search</f:variable>
    <f:for each="{variants}" as="variant">
        <f:variable name="class">{class} mdlr-variant-{variant}</f:variable>
    </f:for>
    <f:if condition="{function}">
        <f:variable name="class">{class} mdlr-function-{function}</f:variable>
    </f:if>

    <div{f:if(condition: class, then: ' class="{class}"')}{f:if(condition: hidden, then: ' hidden')}>
        <label for="{id}" class="mdlr-variant-tacit">{text}</label>
        <input id="{id}" type="search" name="{f:if(condition: name, then: name, else: id)}"{f:if(condition: compact, then: ' class="mdlr-variant-unobtrusive"')}{f:if(condition: example, then: ' placeholder="{example}"')}>
        <f:if condition="{regexGo} && {compact}">
            <mdlr:atom.button.function function="" variants="{0: 'icon', 1: 'unobtrusive'}" text="{regexGo}" icon="regex" />
        </f:if>
        <mdlr:atom.button.function function="" variants="{f:if(condition: compact, then: '{0: \'icon\', 1: \'unobtrusive\'}', else: '{0: \'icon\'}')}" text="{go}" icon="go" />
    </div>
</html>